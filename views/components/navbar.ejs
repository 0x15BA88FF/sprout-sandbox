<nav class="navbar fixed z-40">
    <div class="main container">
        <div class="left">
            <% if (accountType != 'driver') { %>
                <button class="icon-base" onclick="toogleFilter()"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="48" d="M88 152h336M88 256h336M88 360h336"></path></svg></button>
            <% } %>
            <a class="logo flex gap-2 items-center" href="/">
                <img class="icon-base" src="/images/logo.svg" alt="Logo">
                <p class="hidden text-2xl text-primary-500 font-bold xs:block">Sprout</p>
            </a>
        </div>
        <div class="right">
            <% if (accountType != 'driver') { %>
                <button class="icon-base" onclick="toogleSearch()"><svg stroke="currentColor" fill="currentColor" stroke-width="1" version="1.1" id="search" x="0px" y="0px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M20.031,20.79c0.46,0.46,1.17-0.25,0.71-0.7l-3.75-3.76c1.27-1.41,2.04-3.27,2.04-5.31 c0-4.39-3.57-7.96-7.96-7.96s-7.96,3.57-7.96,7.96c0,4.39,3.57,7.96,7.96,7.96c1.98,0,3.81-0.73,5.21-1.94L20.031,20.79z M4.11,11.02c0-3.84,3.13-6.96,6.96-6.96c3.84,0,6.96,3.12,6.96,6.96c0,3.84-3.12,6.96-6.96,6.96C7.24,17.98,4.11,14.86,4.11,11.02 z"></path></g></svg></button>
            <% } %>

            <% if (accountType === 'producer' || accountType === 'trader') { %>
                <a class="icon-base" href="/dashboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black"><path d="M16 11.78L20.24 4.45L21.97 5.45L16.74 14.5L10.23 10.75L5.46 19H22V21H2V3H4V17.54L9.5 8L16 11.78Z" fill="black"/></svg></a>
            <% } %>
                
            <% if (accountType != 'driver') { %>
                <a class="icon-base" href="/purchases"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black"><path d="M19 7H16V6C16 4.93913 15.5786 3.92172 14.8284 3.17157C14.0783 2.42143 13.0609 2 12 2C10.9391 2 9.92172 2.42143 9.17157 3.17157C8.42143 3.92172 8 4.93913 8 6V7H5C4.73478 7 4.48043 7.10536 4.29289 7.29289C4.10536 7.48043 4 7.73478 4 8V19C4 19.7956 4.31607 20.5587 4.87868 21.1213C5.44129 21.6839 6.20435 22 7 22H17C17.7956 22 18.5587 21.6839 19.1213 21.1213C19.6839 20.5587 20 19.7956 20 19V8C20 7.73478 19.8946 7.48043 19.7071 7.29289C19.5196 7.10536 19.2652 7 19 7ZM10 6C10 5.46957 10.2107 4.96086 10.5858 4.58579C10.9609 4.21071 11.4696 4 12 4C12.5304 4 13.0391 4.21071 13.4142 4.58579C13.7893 4.96086 14 5.46957 14 6V7H10V6ZM18 19C18 19.2652 17.8946 19.5196 17.7071 19.7071C17.5196 19.8946 17.2652 20 17 20H7C6.73478 20 6.48043 19.8946 6.29289 19.7071C6.10536 19.5196 6 19.2652 6 19V9H8V10C8 10.2652 8.10536 10.5196 8.29289 10.7071C8.48043 10.8946 8.73478 11 9 11C9.26522 11 9.51957 10.8946 9.70711 10.7071C9.89464 10.5196 10 10.2652 10 10V9H14V10C14 10.2652 14.1054 10.5196 14.2929 10.7071C14.4804 10.8946 14.7348 11 15 11C15.2652 11 15.5196 10.8946 15.7071 10.7071C15.8946 10.5196 16 10.2652 16 10V9H18V19Z" fill="black"/></svg></a>
            <% } %>

            <a class="icon-base" href="/messages"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" fill="black"><path d="M15.736 28L14 27L18 20H24C24.2628 20.0004 24.523 19.9489 24.7658 19.8486C25.0087 19.7482 25.2293 19.6009 25.4151 19.4151C25.6009 19.2293 25.7482 19.0087 25.8486 18.7658C25.9489 18.523 26.0004 18.2628 26 18V4C26.0004 3.73725 25.9489 3.477 25.8486 3.23417C25.7482 2.99134 25.6009 2.7707 25.4151 2.58491C25.2293 2.39911 25.0087 2.25181 24.7658 2.15144C24.523 2.05107 24.2628 1.9996 24 2H4C3.73725 1.9996 3.477 2.05107 3.23417 2.15144C2.99134 2.25181 2.7707 2.39911 2.58491 2.58491C2.39911 2.7707 2.25181 2.99134 2.15144 3.23417C2.05107 3.477 1.9996 3.73725 2 4V18C1.9996 18.2628 2.05107 18.523 2.15144 18.7658C2.25181 19.0087 2.39911 19.2293 2.58491 19.4151C2.7707 19.6009 2.99134 19.7482 3.23417 19.8486C3.477 19.9489 3.73725 20.0004 4 20H13V22H4C2.93913 22 1.92172 21.5786 1.17157 20.8284C0.421427 20.0783 0 19.0609 0 18V4C0 2.93913 0.421427 1.92172 1.17157 1.17157C1.92172 0.421427 2.93913 0 4 0H24C25.0609 0 26.0783 0.421427 26.8284 1.17157C27.5786 1.92172 28 2.93913 28 4V18C28 19.0609 27.5786 20.0783 26.8284 20.8284C26.0783 21.5786 25.0609 22 24 22H19.165L15.736 28Z" fill="black"/></svg></a>

            <a class="icon-base" href="/profile"><svg stroke="currentColor" fill="currentColor" stroke-width="1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="User"><g><path d="M17.438,21.937H6.562a2.5,2.5,0,0,1-2.5-2.5V18.61c0-3.969,3.561-7.2,7.938-7.2s7.938,3.229,7.938,7.2v.827A2.5,2.5,0,0,1,17.438,21.937ZM12,12.412c-3.826,0-6.938,2.78-6.938,6.2v.827a1.5,1.5,0,0,0,1.5,1.5H17.438a1.5,1.5,0,0,0,1.5-1.5V18.61C18.938,15.192,15.826,12.412,12,12.412Z"></path><path d="M12,9.911a3.924,3.924,0,1,1,3.923-3.924A3.927,3.927,0,0,1,12,9.911Zm0-6.847a2.924,2.924,0,1,0,2.923,2.923A2.926,2.926,0,0,0,12,3.064Z"></path></g></g></svg></a>
        </div>
    </div>
    <% if (accountType != 'driver') { %>
        <div id="search-bar" class="search container hidden">
            <form class="search" action="/?search=" method="get">
                <input class="search-input" type="search" name="search" id="search" placeholder="Enter a search...">
                <button class="icon-base">
                    <svg stroke="currentColor" fill="currentColor" stroke-width="1" version="1.1" id="search" x="0px" y="0px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M20.031,20.79c0.46,0.46,1.17-0.25,0.71-0.7l-3.75-3.76c1.27-1.41,2.04-3.27,2.04-5.31 c0-4.39-3.57-7.96-7.96-7.96s-7.96,3.57-7.96,7.96c0,4.39,3.57,7.96,7.96,7.96c1.98,0,3.81-0.73,5.21-1.94L20.031,20.79z M4.11,11.02c0-3.84,3.13-6.96,6.96-6.96c3.84,0,6.96,3.12,6.96,6.96c0,3.84-3.12,6.96-6.96,6.96C7.24,17.98,4.11,14.86,4.11,11.02 z"></path></g></svg>
                </button>
            </form>
        </div>
    <% } %>
    <% if (accountType != 'driver') { %>
        <div id="filter-bar" class="container filter hidden">
            <ul>
                <li><h6>Categories</h6></li>
                <li><a href="/?category=fruits">Fruits</a></li>
                <li><a href="/?category=vegetables">Vegetables</a></li>
                <li><a href="/?category=spices">Spices</a></li>
            </ul>
            <ul>
                <li><h6>Filter</h6></li>
                <li><a href="/?filter=products">Products</a></li>
                <li><a href="/?filter=producer">Producer</a></li>
                <li><a href="/?filter=trader">Traders</a></li>
                <li><a href="/?filter=driver">drivers</a></li>
            </ul>
        </div>
    <% } %>
</nav>

<% if (accountType != 'driver') { %>
    <script>
        const toogleFilter = () => {
            const filterBar = document.querySelector('#filter-bar')
            const searchBar = document.querySelector('#search-bar')

            if (filterBar.classList.contains('flex')) {
                filterBar.classList.replace('flex', 'hidden')
                searchBar.classList.replace('flex', 'hidden')
            } else {
                filterBar.classList.replace('hidden', 'flex')
                searchBar.classList.replace('hidden', 'flex')
            }
        }

        const toogleSearch = () => {
            const filterBar = document.querySelector('#filter-bar')
            const searchBar = document.querySelector('#search-bar')

            if (searchBar.classList.contains('flex')) {
                searchBar.classList.replace('flex', 'hidden')
                filterBar.classList.replace('flex', 'hidden')
            } else {
                searchBar.classList.replace('hidden', 'flex')
                searchBar.querySelectorAll('input')[0].focus()
            }
        }
    </script>
<% } %>
