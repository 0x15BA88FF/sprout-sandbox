<!doctype html>
<html lang="en">

<head>
    <%- include('./components/head', { title: 'buy quality goods' }) %>
</head>

<body>
    <%- include('./components/navbar', { activelink: '/' }) %>

    <section class="container">
        <%- include('./components/carousel') %>

        <p>lorem ipsum dolor sit amet, consectetur adipisicing elit. eum qui nulla eos dicta error placeat saepe repudiandae tenetur, laborum rem.</p>

        <form class="flex flex-col gap-2" action="/purchase" method="post">
            <div class="quantity-section flex flex-col gap-4 p-4 bg-background-100 rounded-lg">
                <div class="header flex items-center justify-between">
                    <h2>quantity</h2>
                </div>
                <div class="flex items-center justify-between">
                    <%- include('./components/numberinput') %>
                    <%- include('./components/price', { currency: 'ghc', price: 56.77, quantity: 'pcs', classes: 'price-lg' }) %>
                </div>
            </div>

            <div class="payment-section flex flex-col gap-4 p-4 bg-background-100 rounded-lg">
                <div class="header flex items-center justify-between">
                    <h2>payment method</h2>
                </div>
                <div class="flex flex-col gap-2">
                    <%- include('./components/methodcard', { image: '/images/avatar.png', title: 'lorem ipsum doro sit', description: 'lorem, ipsum dolor sit amet consectetur adipisicing elit. fugiat, quis!' }) %>
                    <%- include('./components/methodcard', { image: '/images/avatar.png', title: 'lorem ipsum doro sit', description: 'lorem, ipsum dolor sit amet consectetur adipisicing elit. fugiat, quis!' }) %>
                </div>
            </div>

            <div class="delivey-section flex flex-col gap-4 p-4 bg-background-100 rounded-lg">
                <div class="header flex items-center justify-between">
                    <h2>delivery method</h2>
                </div>
                <div class="flex flex-col gap-2">
                    <%- include('./components/methodcard', { image: '/images/avatar.png', title: 'lorem ipsum doro sit', description: 'lorem, ipsum dolor sit amet consectetur adipisicing elit. fugiat, quis!' }) %>
                    <%- include('./components/methodcard', { image: '/images/avatar.png', title: 'lorem ipsum doro sit', description: 'lorem, ipsum dolor sit amet consectetur adipisicing elit. fugiat, quis!' }) %>
                </div>
            </div>

            <div class="delivey-section flex flex-col gap-4 p-4 bg-background-100 rounded-lg">
                <div class="header flex items-center justify-between">
                    <h2>price estimate</h2>
                </div>
                <div class="flex flex-col gap-2">
                    <div class="flex item-center justify-between">
                        <p>price</p>
                        <%- include('./components/price', { currency: 'ghc', price: 56.77, quantity: 'pcs', classes: 'price-sm' }) %>
                    </div>
                    <div class="flex item-center justify-between">
                        <p>transport</p>
                        <%- include('./components/price', { currency: 'ghc', price: 56.77, quantity: 'pcs', classes: 'price-sm' }) %>
                    </div>
                    <div class="flex item-center justify-between">
                        <p>total</p>
                        <%- include('./components/price', { currency: 'ghc', price: 56.77, quantity: 'pcs', classes: 'price-lg' }) %>
                    </div>
                </div>
            </div>

            <input class="button primary" type="submit" value="purchase">
        </form>

        <a href="/track/sdfjoi" class="button secondary">track purchase</a>
        <button onclick="showreviewsection()" class="button secondary">review</button>

    </section>

    <section onclick="closemodals()" id="modal-backdrop" class="fixed top-0 z-40 w-screen h-screen block flex-col opacity-30 bg-background-900"></section>

    <section id="review-section" class="fixed bottom-0 z-50 h-max w-full">
        <div class="flex flex-col gap-2 p-4 bg-background-100 rounded-t-lg">
            <div class="header flex items-center justify-between">
                <h2>review</h2>
                <button class="icon-base" onclick="closemodals()">
                    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="none"><path d="m6.75806 17.2431l12.0011 12.0001l17.2441 17.2431m17.2441 6.75708l12.0001 12.0001l6.75806 6.75708" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </button>
            </div>
            <div class="h-[50vh] flex flex-col gap-4 overflow-y-scroll">
                <%- include('./components/ratinginput') %>
                <textarea class="p-2 rounded-lg" name="comment" id="comment" cols="30" rows="10" placeholder="give us your feedback..."></textarea>
                <input type="submit" value="submit review">
            </>
        </div>
    </section>

    <%- include('./components/footer') %>
</body>

<script>
    const specifiation = document.queryselector('#specification');
    const reviewsection = document.queryselector('#review-section')
    const modalbackdrop = document.queryselector('#modal-backdrop')

    const showspecification = () => { specifiation.style.maxheight = 'max-content' }

    const closemodals = () => {
        reviewsection.classlist.replace('h-max', 'h-0');
        modalbackdrop.classlist.replace('block', 'hidden');
    }

    const showreviewsection = () => {
        reviewsection.classlist.replace('h-0', 'h-max');
        modalbackdrop.classlist.replace('hidden', 'block');
    }

    closemodals()
</script>

</html>